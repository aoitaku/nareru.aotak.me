(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))u(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&u(a)}).observe(document,{childList:!0,subtree:!0});function f(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(n){if(n.ep)return;n.ep=!0;const r=f(n);fetch(n.href,r)}})();(function(){const p="/data/tweets.json",o={tweets:[]};function f(t,e){const s={};return t.some(d=>e(d)?(s.found=d,!0):!1),s.found}function u(t){const e=document.createElement("a");return e.className="twitter-share-button",e.href="https://twitter.com/share",e.setAttribute("data-text",t),e.setAttribute("data-size","large"),e}function n(){const t=document.createElement("script");return t.src="https://platform.twitter.com/widgets.js",t.async=!0,t}function r(t,e){t.appendChild(u(e)),t.appendChild(n())}function a(t){const e=new XMLHttpRequest;e.open("GET",p,!0),e.onload=function(){if(e.readyState!==4)return;if(e.status!==200){console.error(e.statusText);return}const s=JSON.parse(e.responseText);t(s)},e.onerror=function(){console.error(e.statusText)},e.send(null)}function m(t){t.classList.remove("loading")}function h(t){t.classList.add("loading")}function L(t,e){const s=()=>{e(),t.removeEventListener("load",s)};t.addEventListener("load",s),o.tweetButtonContainer=t}function g(t){return f(t,e=>e.nodeType===e.ELEMENT_NODE&&e.nodeName.toLowerCase()==="iframe"&&e.classList.contains("twitter-share-button"))}function E(t,e,s){t.some(i=>{const c=g(Array.from(i.addedNodes));return c?(s(c),!0):!1})&&e.disconnect()}function w(){return o.tweets[Math.floor(Math.random()*o.tweets.length)]}document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("reload-button"),e=t.parentElement,s=document.getElementById("tweet-button-placeholder");a(i=>{o.tweets=i,r(s,w())}),t.addEventListener("click",function(){const i=w();if(o.tweetButtonContainer){const c=o.tweetButtonContainer.src.replace(/text=[^&]*&/,`text=${encodeURI(i)}&`);o.tweetButtonContainer.src="";const l=()=>{m(e),o.tweetButtonContainer&&(o.tweetButtonContainer.src=c,o.tweetButtonContainer.removeEventListener("load",l))};o.tweetButtonContainer.addEventListener("load",l),h(e)}}),new MutationObserver((i,c)=>{E(i,c,l=>{L(l,()=>{m(e),m(s)})})}).observe(s,{childList:!0})})})();
